{
  "id": "snapshot_1764281037194_aigc77ma5",
  "approvalId": "approval_1764281037191_84gjmc67e",
  "approvalTitle": "Tasks - Honeycomb One Pass MVP",
  "version": 1,
  "timestamp": "2025-11-27T22:03:57.194Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Tasks Document - Honeycomb One Pass MVP\n\n## Phase 1: Project Setup & Core Models\n\n- [ ] 1.1. Initialize Flutter project with directory structure\n  - Files: `pubspec.yaml`, `lib/main.dart`, directory structure\n  - Create Flutter project with web support\n  - Set up directory structure per structure.md (lib/core, lib/domain, lib/presentation, lib/debug)\n  - Configure pubspec.yaml with dependencies (shelf, args, crypto, riverpod)\n  - Purpose: Establish project foundation\n  - _Leverage: None (greenfield)_\n  - _Requirements: All_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Initialize Flutter project with web support, create directory structure (lib/core, lib/domain, lib/presentation, lib/debug, bin, test), configure pubspec.yaml with dependencies (shelf, args, crypto, flutter_riverpod, logging). Follow structure.md conventions. | Restrictions: Do not add unnecessary dependencies, keep it minimal for MVP | Success: `flutter run -d chrome` launches without errors, directory structure matches structure.md | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 1.2. Create HexCell model\n  - File: `lib/domain/models/hex_cell.dart`\n  - Implement HexCell class with axial coordinates (q, r)\n  - Add checkpoint property, visited flag\n  - Implement toPixel() for rendering, neighbors getter\n  - Add JSON serialization\n  - Purpose: Core data structure for grid cells\n  - _Leverage: None_\n  - _Requirements: REQ-001, REQ-002_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create HexCell class in lib/domain/models/hex_cell.dart with axial coordinates (q, r), optional checkpoint number, visited flag, toPixel(cellSize) method, neighbors getter returning 6 adjacent coordinates, JSON serialization | Restrictions: No Flutter imports (pure Dart), max 50 lines per function, immutable where possible | Success: Unit tests pass for coordinate conversion, neighbor calculation, JSON round-trip | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 1.3. Create HexEdge model (walls)\n  - File: `lib/domain/models/hex_edge.dart`\n  - Implement HexEdge class for walls between cells\n  - Use canonical ordering for equality\n  - Add connects() method, JSON serialization\n  - Purpose: Represent blocked passages between cells\n  - _Leverage: HexCell_\n  - _Requirements: REQ-004_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create HexEdge class in lib/domain/models/hex_edge.dart representing a wall between two adjacent cells. Implement canonical ordering (cell1 < cell2) for consistent equality/hashing, connects() method, JSON serialization | Restrictions: No Flutter imports, ensure HexEdge(A,B) == HexEdge(B,A) | Success: Unit tests pass for equality, canonical ordering, connects() logic | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 1.4. Create Level model\n  - File: `lib/domain/models/level.dart`\n  - Implement Level class with size, cells map, walls set\n  - Add getCell(), startCell, endCell, hasWall(), getPassableNeighbors()\n  - Implement computeHash() for level identity\n  - Add JSON serialization\n  - Purpose: Complete level definition with walls\n  - _Leverage: HexCell, HexEdge_\n  - _Requirements: REQ-001, REQ-002_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create Level class in lib/domain/models/level.dart with id (hash), size, Map<(int,int), HexCell> cells, Set<HexEdge> walls, checkpointCount. Implement getCell(q,r), startCell/endCell getters, hasWall(), getPassableNeighbors(), computeHash() using SHA-256 of canonical representation, JSON serialization | Restrictions: No Flutter imports, computeHash must be deterministic | Success: Unit tests pass for cell access, wall detection, hash consistency | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 1.5. Create GameMode enum and GameState model\n  - Files: `lib/domain/models/game_mode.dart`, `lib/domain/models/game_state.dart`\n  - Implement GameMode enum (daily, practice)\n  - Implement GameState with level, mode, path, nextCheckpoint, timing\n  - Add copyWith for immutable updates\n  - Purpose: Track game progress and mode\n  - _Leverage: Level, HexCell_\n  - _Requirements: REQ-007_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create GameMode enum (daily, practice) in lib/domain/models/game_mode.dart. Create GameState class in lib/domain/models/game_state.dart with Level, GameMode, List<HexCell> path, nextCheckpoint, startTime, endTime. Add isStarted, isComplete, elapsedTime, canSubmitToLeaderboard getters, copyWith() method | Restrictions: No Flutter imports, immutable state pattern | Success: Unit tests pass for state transitions, copyWith works correctly | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n## Phase 2: Core Services (Domain Logic)\n\n- [ ] 2.1. Create PathValidator service\n  - File: `lib/domain/services/path_validator.dart`\n  - Implement isAdjacent(), isPassable() (wall check), isValidMove()\n  - Implement checkWinCondition()\n  - Purpose: Validate moves and detect win\n  - _Leverage: Level, HexCell, HexEdge, GameState_\n  - _Requirements: REQ-004, REQ-007_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create PathValidator in lib/domain/services/path_validator.dart with pure functions: isAdjacent(HexCell a, HexCell b), isPassable(Level, HexCell from, HexCell to) checking walls, isValidMove(GameState, HexCell target) checking adjacency + walls + visited + checkpoint order, checkWinCondition(GameState) checking all cells visited + correct checkpoint order | Restrictions: No Flutter imports, pure functions only, no side effects | Success: Unit tests cover all validation cases including wall blocking | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 2.2. Create GameEngine service\n  - File: `lib/domain/services/game_engine.dart`\n  - Implement state getter, tryMove(), undo(), reset()\n  - Use PathValidator for move validation\n  - Track timing on first move and completion\n  - Purpose: Core game state machine\n  - _Leverage: PathValidator, GameState, Level_\n  - _Requirements: REQ-003, REQ-004, REQ-005, REQ-006, REQ-007_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create GameEngine class in lib/domain/services/game_engine.dart with GameState state getter, tryMove(HexCell) returning bool (uses PathValidator), undo() removing last path segment, reset() clearing path. Start timer on first move, record endTime on win | Restrictions: No Flutter imports, use PathValidator for all validation, emit state changes | Success: Unit tests pass for move/undo/reset, timing is accurate | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 2.3. Create LevelValidator service\n  - File: `lib/domain/services/level_validator.dart`\n  - Implement validate() checking solvability\n  - Implement findSolution() using DFS/backtracking\n  - Return structured ValidationResult\n  - Purpose: Verify levels are solvable (for CLI)\n  - _Leverage: PathValidator, Level_\n  - _Requirements: REQ-009_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer specializing in algorithms | Task: Create LevelValidator in lib/domain/services/level_validator.dart with validate(Level) returning ValidationResult (isSolvable, solutionPath?, error?), findSolution(Level) using DFS backtracking to find Hamiltonian path through checkpoints in order | Restrictions: No Flutter imports, algorithm must handle walls correctly | Success: Unit tests pass for solvable/unsolvable levels, solution is valid when found | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n## Phase 3: Core Infrastructure\n\n- [ ] 3.1. Create structured logging\n  - File: `lib/core/logging/logger.dart`\n  - Implement JSON structured logger\n  - Include timestamp, level, component, event, context\n  - Support stdout and optional file output\n  - Purpose: AI agent can analyze logs\n  - _Leverage: None_\n  - _Requirements: REQ-010_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create Logger class in lib/core/logging/logger.dart with JSON output format containing timestamp (ISO8601), level (debug/info/warn/error), component (string), event (string), context (Map). Support log levels, stdout output. Create global logger instance | Restrictions: No Flutter imports, JSON format for AI parsing | Success: Logs are valid JSON, can filter by level, context is included | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 3.2. Create hardcoded test level\n  - File: `lib/domain/data/test_level.dart`\n  - Create a simple 4x4 solvable level with walls\n  - Include 3 checkpoints\n  - Verify solvability with LevelValidator\n  - Purpose: Test level for development\n  - _Leverage: Level, HexCell, HexEdge, LevelValidator_\n  - _Requirements: REQ-001, REQ-002_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Game Designer/Developer | Task: Create hardcoded test level in lib/domain/data/test_level.dart - a 4x4 hexagonal grid with 3 checkpoints and strategic walls that create exactly one solution path. Export as getTestLevel() function. Verify with LevelValidator | Restrictions: Must be solvable, not too easy (needs some walls) | Success: LevelValidator confirms solvability, solution path visits all cells | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n## Phase 4: Debug Layer (AI Agent Interface)\n\n- [ ] 4.1. Create CLI runner framework\n  - Files: `lib/debug/cli/cli_runner.dart`, `bin/cli.dart`\n  - Set up args package for command parsing\n  - Create CLI entry point\n  - Purpose: CLI framework for AI agent commands\n  - _Leverage: args package_\n  - _Requirements: REQ-009_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create CLI framework in lib/debug/cli/cli_runner.dart using args package. Set up bin/cli.dart as entry point. Support --help, subcommands structure. Output JSON for AI parsing | Restrictions: JSON output format, clear error messages | Success: `dart run bin/cli.dart --help` shows usage, subcommand structure works | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 4.2. Implement CLI validate command\n  - File: `lib/debug/cli/commands/validate_command.dart`\n  - Add validate command accepting level JSON\n  - Output validation result as JSON\n  - Include solution path if solvable\n  - Purpose: AI agent can validate levels\n  - _Leverage: LevelValidator, CLI runner_\n  - _Requirements: REQ-009_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create validate command in lib/debug/cli/commands/validate_command.dart. Accept --level <json_string> or --file <path>. Use LevelValidator to check solvability. Output JSON: {valid: bool, solvable: bool, solution?: [...], error?: string} | Restrictions: JSON output only, handle malformed input gracefully | Success: CLI validates test level correctly, outputs structured JSON | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 4.3. Create REST API server\n  - File: `lib/debug/api/server.dart`\n  - Set up shelf HTTP server\n  - Configure CORS for local development\n  - Add JSON request/response handling\n  - Purpose: HTTP server for AI agent\n  - _Leverage: shelf package_\n  - _Requirements: REQ-008_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create HTTP server in lib/debug/api/server.dart using shelf package. Configure CORS for localhost, JSON content type. Create startServer(int port, GameEngine engine) function. Add graceful shutdown | Restrictions: Localhost only for MVP, JSON responses | Success: Server starts on specified port, responds to requests | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 4.4. Implement REST API game endpoints\n  - File: `lib/debug/api/routes/game_routes.dart`\n  - GET /api/game/state - returns GameStateResponse\n  - POST /api/game/move - executes move\n  - POST /api/game/reset - resets level\n  - Purpose: AI agent can play game via API\n  - _Leverage: GameEngine, shelf, API server_\n  - _Requirements: REQ-008_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create game routes in lib/debug/api/routes/game_routes.dart. Implement GET /api/game/state returning full game state JSON, POST /api/game/move accepting {q, r} and returning success/error + new state, POST /api/game/reset returning fresh state. Use GameEngine | Restrictions: Return proper HTTP status codes (200, 400), structured error responses | Success: curl commands successfully interact with game state | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 4.5. Implement REST API level endpoints\n  - File: `lib/debug/api/routes/level_routes.dart`\n  - POST /api/level/validate - validates level JSON\n  - Purpose: AI agent can validate levels via API\n  - _Leverage: LevelValidator, shelf, API server_\n  - _Requirements: REQ-008, REQ-009_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Dart Developer | Task: Create level routes in lib/debug/api/routes/level_routes.dart. Implement POST /api/level/validate accepting level JSON, returning validation result with solvability and optional solution | Restrictions: Proper error handling for malformed JSON | Success: API validates test level correctly | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n## Phase 5: Presentation Layer (UI)\n\n- [ ] 5.1. Create hex grid coordinate utilities\n  - File: `lib/presentation/utils/hex_utils.dart`\n  - Implement pixel-to-axial coordinate conversion\n  - Implement axial-to-pixel conversion\n  - Calculate cell vertices for rendering\n  - Purpose: Coordinate math for rendering and hit testing\n  - _Leverage: HexCell_\n  - _Requirements: REQ-001_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer with geometry knowledge | Task: Create hex utilities in lib/presentation/utils/hex_utils.dart. Implement pixelToAxial(Offset, cellSize), axialToPixel(q, r, cellSize), getHexVertices(center, size) returning 6 points for flat-top hexagon | Restrictions: Use pointy-top or flat-top consistently, accurate math | Success: Coordinates convert correctly in both directions | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 5.2. Create HexCellWidget\n  - File: `lib/presentation/widgets/hex_grid/hex_cell_widget.dart`\n  - Render single hexagonal cell using CustomPaint\n  - Show checkpoint number if present\n  - Indicate visited state with color\n  - Purpose: Individual cell rendering\n  - _Leverage: HexCell, hex_utils_\n  - _Requirements: REQ-001, REQ-002_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Create HexCellWidget in lib/presentation/widgets/hex_grid/hex_cell_widget.dart using CustomPainter. Draw hexagon shape, fill based on visited state (gray=unvisited, colored=visited), show checkpoint number centered if present. Highlight start (green border) and end (red border) checkpoints | Restrictions: Use CustomPaint for performance, no external packages | Success: Cells render correctly with all visual states | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 5.3. Create WallPainter\n  - File: `lib/presentation/widgets/hex_grid/wall_painter.dart`\n  - Render walls as thick lines on cell edges\n  - Calculate wall positions from HexEdge data\n  - Purpose: Visualize blocked passages\n  - _Leverage: HexEdge, hex_utils_\n  - _Requirements: REQ-001_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Create WallPainter in lib/presentation/widgets/hex_grid/wall_painter.dart as CustomPainter. Given Set<HexEdge> walls and cell size, draw thick dark lines on shared edges between cells. Calculate edge midpoints from cell centers | Restrictions: Walls must align exactly with hex edges | Success: Walls render on correct edges, visually distinct | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 5.4. Create PathPainter\n  - File: `lib/presentation/widgets/hex_grid/path_painter.dart`\n  - Draw path as connected line through cell centers\n  - Implement color gradient based on path length\n  - Purpose: Visualize player's drawn path\n  - _Leverage: hex_utils, GameState_\n  - _Requirements: REQ-003_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Create PathPainter in lib/presentation/widgets/hex_grid/path_painter.dart as CustomPainter. Draw path as thick line connecting cell centers. Implement gradient from blue to purple to red based on path progress (0% to 100% of total cells) | Restrictions: Smooth line rendering, gradient must be visible | Success: Path renders with color gradient, updates smoothly | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 5.5. Create HexGridWidget\n  - File: `lib/presentation/widgets/hex_grid/hex_grid_widget.dart`\n  - Compose cells, walls, path painters\n  - Handle touch/mouse drag input\n  - Convert pointer position to cell coordinates\n  - Emit cell interactions to parent\n  - Purpose: Complete interactive grid\n  - _Leverage: HexCellWidget, WallPainter, PathPainter, hex_utils_\n  - _Requirements: REQ-001, REQ-002, REQ-003_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Create HexGridWidget in lib/presentation/widgets/hex_grid/hex_grid_widget.dart. Use GestureDetector for pan gestures. Render all cells, walls overlay, path overlay. On drag, convert position to cell coords, call onCellEntered callback. Handle drag start/end | Restrictions: Efficient rendering (RepaintBoundary), responsive to all screen sizes | Success: Grid renders correctly, drag interactions detected accurately | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 5.6. Create GameScreen with state management\n  - File: `lib/presentation/screens/game/game_screen.dart`\n  - Integrate HexGridWidget with GameEngine\n  - Add reset button\n  - Show completion state\n  - Use Riverpod for state management\n  - Purpose: Main playable screen\n  - _Leverage: HexGridWidget, GameEngine, Riverpod_\n  - _Requirements: REQ-003, REQ-006, REQ-007_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Create GameScreen in lib/presentation/screens/game/game_screen.dart. Use Riverpod provider for GameEngine. Connect HexGridWidget interactions to GameEngine.tryMove(). Add reset button calling GameEngine.reset(). Show \"Complete!\" overlay on win with elapsed time | Restrictions: Use Riverpod for state, clean separation of concerns | Success: Full gameplay works - draw path, undo by backtracking, reset, win detection | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n## Phase 6: Integration & Testing\n\n- [ ] 6.1. Create unit tests for models\n  - Files: `test/domain/models/*_test.dart`\n  - Test HexCell, HexEdge, Level, GameState\n  - Test hash consistency for Level\n  - Purpose: Ensure model correctness\n  - _Leverage: flutter_test_\n  - _Requirements: All model requirements_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: QA Engineer | Task: Create unit tests in test/domain/models/ for HexCell (neighbors, toPixel), HexEdge (canonical ordering, equality), Level (hasWall, getPassableNeighbors, computeHash determinism), GameState (copyWith, computed properties) | Restrictions: 80%+ coverage, test edge cases | Success: All tests pass, coverage meets target | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 6.2. Create unit tests for services\n  - Files: `test/domain/services/*_test.dart`\n  - Test PathValidator, GameEngine, LevelValidator\n  - Test wall blocking scenarios\n  - Purpose: Ensure game logic correctness\n  - _Leverage: flutter_test, test level_\n  - _Requirements: REQ-004, REQ-007, REQ-009_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: QA Engineer | Task: Create unit tests in test/domain/services/ for PathValidator (adjacency, wall blocking, checkpoint order), GameEngine (move, undo, reset, win detection), LevelValidator (solvable levels, unsolvable levels, solution correctness) | Restrictions: 80%+ coverage, test all validation rules | Success: All tests pass, all game rules verified | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 6.3. Create API integration tests\n  - File: `test/debug/api/server_test.dart`\n  - Test all REST endpoints\n  - Test error responses\n  - Purpose: Ensure API works for AI agents\n  - _Leverage: http package, test server_\n  - _Requirements: REQ-008_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: QA Engineer | Task: Create integration tests in test/debug/api/server_test.dart. Start test server, test GET /api/game/state, POST /api/game/move (valid and invalid), POST /api/game/reset, POST /api/level/validate. Verify JSON responses | Restrictions: Clean up server after tests, test error cases | Success: All API endpoints work correctly, error responses are structured | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 6.4. Wire up main.dart and test full flow\n  - File: `lib/main.dart`\n  - Initialize app with test level\n  - Start debug API server in debug mode\n  - Launch GameScreen\n  - Purpose: Complete working MVP\n  - _Leverage: All components_\n  - _Requirements: All_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Update lib/main.dart to initialize Riverpod, load test level, optionally start debug API server (port 8080) when in debug mode, launch MaterialApp with GameScreen. Add command line flag --api to enable API server | Restrictions: API server only in debug mode, clean startup | Success: `flutter run -d chrome` shows playable game, API responds to curl | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n\n- [ ] 6.5. Setup pre-commit hooks\n  - Files: `scripts/pre_commit.dart`, `.githooks/pre-commit`\n  - Implement file size check (500 lines)\n  - Implement function size check (50 lines)\n  - Run dart format and analyze\n  - Purpose: Enforce code quality\n  - _Leverage: dart analyze_\n  - _Requirements: tech.md pre-commit requirements_\n  - _Prompt: Implement the task for spec honeycomb-one-pass-mvp, first run spec-workflow-guide to get the workflow guide then implement the task: Role: DevOps Engineer | Task: Create pre-commit hook in scripts/pre_commit.dart checking: file size ≤500 LOC (excluding comments/blanks), function size ≤50 LOC. Create .githooks/pre-commit shell script running dart format --set-exit-if-changed, dart analyze --fatal-infos, dart run scripts/pre_commit.dart, flutter test | Restrictions: Must fail fast on violations, clear error messages | Success: Commits blocked when rules violated, passes for valid code | After completing: Mark task [-] as in-progress before starting, use log-implementation tool to record what was created, then mark [x] complete_\n",
  "fileStats": {
    "size": 27330,
    "lines": 269,
    "lastModified": "2025-11-27T22:03:52.292Z"
  },
  "comments": []
}